<!doctype html>
<meta charset="utf-8">
<html>
	<head>
		<script src="https://d3js.org/d3.v4.min.js"></script>
		<script src="https://d3js.org/d3-path.v1.min.js"></script>
	</head>
	<body>
		<h1>Hello World!</h1>
		<script>
		/* Import CSV Data
		***********************************************************************/

		// CSV column types for streets_lines.csv
		var slConverter = function(d) {
			return {
				line: +d.line,
				streetname: d.streetname,
				directions: d.directions,
				x1: +d.x1,
				y1: +d.y1,
				x2: +d.x2,
				y2: +d.y2
			};
		};
		
		// Row conversion for streets_lines
		var streets_lines = [];
		d3.csv("streets_lines.csv", function(d) {
			streets_lines = d.map(slConverter);
			console.log(streets_lines);
		});

		
		
		// CSV column types for streets_segments.csv
		var ssConverter = function(d) {
			return {
				segment: +d.segment,
				streetname: d.streetname,
				direction: d.direction,
				segdesc: d.segdesc,
				x1: +d.x1,
				y1: +d.y1,
				x2: +d.x2,
				y2: +d.y2
			};
		};
		
		// Row conversion for streets_segments
		var streets_segments;
		d3.csv("streets_segments.csv", function(d) {
			streets_segments = d.map(ssConverter);
			console.log(streets_segments);
		});
		
		
		/* Draw SVG streets_lines
		***********************************************************************/
		var stroke = "black";
		var strokeWidth = 5;
		var fill = "none";
		
		// Create SVG container
		const svgContainer = d3.select("body").append("svg")
			.attr("width", 1200)
			.attr("height", 400);
		
		// Create path generator
		function pathFunc(obj) {
			var path = d3.path();
			path.moveTo(obj.x1,obj.y1);
			path.lineTo(obj.x2,obj.y2);
			return path;
		}
		
		function drawPath(obj) {
			svgContainer.append("path")
				.attr("id", obj.line)
				.attr("d", pathFunc(obj))
				.attr("stroke", stroke)
				.attr("stroke_width", strokeWidth)
				.attr("fill", fill);
		}
		
		function pathGen(arr) {
				arr.forEach(drawPath)
		}
		
		
		
		
		
		
		
		
		
		
		
		</script>
	</body>
</html>
